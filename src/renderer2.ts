// This file is required by the index.html file and will
// be executed in the renderer process for that window.
// All of the Node.js APIs are available in this process.

//Note: Added code for ipc between the main process and the renderer


import { remote, ipcRenderer } from "electron";

var jquery = require('jquery');

jquery("#myText").text("Welcome to my world of data! Wow this is way too cool!");

jquery("#myButton").click(() => {

    jquery("#myText").text("You just pressed the button! I changed the text!");

    jquery(document).attr("title", "Welcome to Michael's world of Electron!");

});


window.addEventListener("contextmenu",(event:MouseEvent)=>{
     
    event.preventDefault();
    ipcRenderer.send("show-context-menu");

});

ipcRenderer.on("message",(event:any,message:any)=>{
    console.log(`${event}`);
    console.log(`Your message is: ${message.data} coming from main process!`);
});

//ping main process
jquery('#sendAsyncMessage').click((event:any)=>{

   let msg = new Date().toUTCString();
   ipcRenderer.send("pingMessage", `Ping message from client ${msg}`);

});

ipcRenderer.on("pingMessageReply",(event:any,msg:any)=>{
   console.log(`Received message from server ${msg}`);
   jquery("#asyncReply").html(`Ping Results from Main ${msg}`);

});

//Show dialog 
const selectDirBtn = document.getElementById("btnselectDirectory");

selectDirBtn.addEventListener("click",(event:any)=>{

  ipcRenderer.send("open-directory-dialog");



});

ipcRenderer.on("selectedItem",(event:any,files:any)=>{
   console.log('Open file dialog');

   document.getElementById("selectedItem").innerHTML = `You selected: ${files}`;




});













































































































































































































































































































































































































































































